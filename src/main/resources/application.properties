# ===============================
# App
# ===============================
spring.application.name=autismGame

# Server
server.port=${SERVER_PORT:8080}
# (??? ???/ALB ??? ?? ??? ?????/??? ??)
# server.forward-headers-strategy=framework


# ===============================
# View (Thymeleaf)
# ===============================
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.enabled=true
spring.thymeleaf.cache=false

# ===============================
# Database (PostgreSQL)
# ????? ?? ??? ???
# ===============================
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# ===============================
# JPA / Hibernate
# ?? ??? ddl-auto=update ?? validate ??
# ===============================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# ===============================
# AWS (io.awspring.cloud 3.x)
# .env or EC2 instance profile will be used for credentials
# ===============================
spring.cloud.aws.region=${SPRING_CLOUD_AWS_REGION_STATIC:ap-northeast-2}
spring.cloud.aws.credentials.access-key=${SPRING_CLOUD_AWS_CREDENTIALS_ACCESS_KEY}
spring.cloud.aws.credentials.secret-key=${SPRING_CLOUD_AWS_CREDENTIALS_SECRET_KEY}

# S3 Bucket Name
s3.bucket.name=${SPRING_CLOUD_AWS_S3_BUCKET}

# ===============================
# ML Server
# ===============================
ml.server.url=${ML_SERVER_URL:http://localhost:5000}
ml.server.endpoint=${ML_SERVER_ENDPOINT:/analyze-emotion}

# ===============================
# Jackson
# (???? ?? ?? + ?? ??)
# ===============================
spring.jackson.deserialization.fail-on-unknown-properties=false
spring.jackson.property-naming-strategy=SNAKE_CASE
spring.jackson.deserialization.accept-empty-string-as-null-object=true
spring.jackson.deserialization.read-unknown-enum-values-using-default-value=true